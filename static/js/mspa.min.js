!function(){var n=$("#section_container"),i=$("#index_section");$.fn.Mspa=function(e){var t=($(this),$.extend(!0,{template:!1,templateUrl:$(this).data("link"),trigger:new Function,isHead:!0,isBack:!0,effect:"left",click:!1,title:$(this).attr("data-titleTxt"),init:new Function},e)),a={In:"anim active slideDownIn",Out:" anim slideDownOut"};switch(t.effect){case"left":a={In:"anim slideLeftIn",In2:"anim slideRightIn",Out:" anim slideLeftOut",Out2:" anim slideRightOut"};break;case"up":a={In:"anim slideDownIn",In2:"anim slideUpIn",Out:" anim slideDownOut",Out2:" anim slideUpOut"}}this.back=function(n){var i=window.location.hash,e=n.parents("section"),t=e.prev("section");t.size()?t:t=$("#index_section"),e.removeClass(a.In).addClass(a.Out2).on("webkitAnimationEnd animationend",function(){t.removeClass(a.In2),e.remove()}),t.addClass(a.In2),""!=i&&window.history.back()},this.close=function(n,i){var e=n.parents("section"),t=$("#index_section");t.size()>=1&&e.prev("section").not("#index_section").remove(),e.removeClass(a.In).addClass(a.Out2).on("webkitAnimationEnd animationend",function(){t.removeClass(a.In2),e.remove()}),t.addClass(a.In2),"function"==typeof i&&i()};var s=this,o=function(){var e=$(this).attr("data-target"),o=$("<section>",{"class":"section_page",id:e}),c=$("<header>"),d=$("<a>",{"class":"page_back",href:"javascript:;",text:"<"});if(d.one("click",function(n){s.back($(this),o)}),""!=t.title?(c.html("<section class=return_area>"+t.title+"</section><nav></nav>").prepend(d),o.append(c)):o.append(d),n.append(o),t.template){i=$("#index_section");var l=o.prev("section");l.size()?"":l=i,l.addClass(a.Out).one("animationend webkitAnimationEnd",function(){l.removeClass(a.Out)}),o.addClass("active").show().addClass(a.In).one("animationend webkitAnimationEnd",function(){o.removeClass(a.In)}),t.init.call(s,o,$(this))}else $.ajax({type:"get",url:t.templateUrl,async:!0}).done(function(n){o.append(n);var e=o.prev("section");e.size()?"":e=i,e.addClass(a.Out).one("animationend webkitAnimationEnd",function(){e.removeClass(a.Out)}),o.addClass("active").show().addClass(a.In).one("animationend webkitAnimationEnd",function(){o.removeClass(a.In)}),t.init.call(s,o,$(this))})};t.click?o.call(this):$(this).off("click").on("click",o)}}();